{"uid":"d1a7d1dd4e2f81c8","name":"test_front_draggable_window[100-100]","fullName":"tests.gui.test_front#test_front_draggable_window","historyId":"64ce08f1262f067d1e7d0431f29c930f","time":{"start":1666105789952,"stop":1666105790536,"duration":584},"status":"failed","statusMessage":"AssertionError","statusTrace":"setup = None, offset_x = 100, offset_y = 100\n\n    @allure.feature('Test front')\n    @allure.story('Check that the window is moved by holding down '\n                  'the left mouse button')\n    @pytest.mark.parametrize(\"offset_x, offset_y\",\n                             [(0, 100), (100, 0), (100, 100),\n                              (0, -100), (-100, 0), (-100, -100)])\n    def test_front_draggable_window(setup, offset_x, offset_y):\n    \n        with allure.step(\"Take a screenshot\"):\n            img_1 = pyautogui.screenshot(screenshots[0],\n                                         region=p.DEFAULT_APP_REGION)\n            allure_attach_screenshot(img_1)\n    \n        with allure.step(\"Drag window to new position\"):\n            pyautogui.moveTo(get_new_position(p.DEFAULT_APP_REGION,\n                                              p.DEFAULT_CLICK_POINT))\n            cursor_pos = get_new_position(p.DEFAULT_APP_REGION,\n                                          p.DEFAULT_CLICK_POINT)\n            cursor_pos = get_new_position(cursor_pos, (offset_x, offset_y))\n            pyautogui.dragTo(cursor_pos)\n    \n        with allure.step(\"Take a screenshot\"):\n            new_app_pos = get_new_position(p.DEFAULT_APP_REGION,\n                                           (offset_x, offset_y))\n            img_2 = pyautogui.screenshot(screenshots[1], region=new_app_pos)\n            allure_attach_screenshot(img_2)\n    \n        with allure.step(\"Compare screenshots\"):\n>           assert_screenshots(img_1, img_2, True)\n\ntests/gui/test_front.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/methods/utils.py:44: in assert_screenshots\n    raise e\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npicture_1 = <PIL.Image.Image image mode=RGB size=640x480 at 0x7FB54F1F09D0>\npicture_2 = <PIL.Image.Image image mode=RGB size=640x480 at 0x7FB550A33280>\nsame = True\n\n    def assert_screenshots(picture_1: Image.Image,\n                           picture_2: Image.Image,\n                           same: bool) -> Optional[NoReturn]:\n        \"\"\" Assert screenshots pair and remove them \"\"\"\n        try:\n            with io.BytesIO() as fp:\n                picture_1.save(fp, format='PNG')\n                picture_1_raw = fp.getvalue()\n            with io.BytesIO() as fp:\n                picture_2.save(fp, format='PNG')\n                picture_2_raw = fp.getvalue()\n>           assert (picture_1_raw == picture_2_raw) is same\nE           AssertionError\n\ntests/methods/utils.py:42: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"setup","time":{"start":1666105788843,"stop":1666105789950,"duration":1107},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError","statusTrace":"setup = None, offset_x = 100, offset_y = 100\n\n    @allure.feature('Test front')\n    @allure.story('Check that the window is moved by holding down '\n                  'the left mouse button')\n    @pytest.mark.parametrize(\"offset_x, offset_y\",\n                             [(0, 100), (100, 0), (100, 100),\n                              (0, -100), (-100, 0), (-100, -100)])\n    def test_front_draggable_window(setup, offset_x, offset_y):\n    \n        with allure.step(\"Take a screenshot\"):\n            img_1 = pyautogui.screenshot(screenshots[0],\n                                         region=p.DEFAULT_APP_REGION)\n            allure_attach_screenshot(img_1)\n    \n        with allure.step(\"Drag window to new position\"):\n            pyautogui.moveTo(get_new_position(p.DEFAULT_APP_REGION,\n                                              p.DEFAULT_CLICK_POINT))\n            cursor_pos = get_new_position(p.DEFAULT_APP_REGION,\n                                          p.DEFAULT_CLICK_POINT)\n            cursor_pos = get_new_position(cursor_pos, (offset_x, offset_y))\n            pyautogui.dragTo(cursor_pos)\n    \n        with allure.step(\"Take a screenshot\"):\n            new_app_pos = get_new_position(p.DEFAULT_APP_REGION,\n                                           (offset_x, offset_y))\n            img_2 = pyautogui.screenshot(screenshots[1], region=new_app_pos)\n            allure_attach_screenshot(img_2)\n    \n        with allure.step(\"Compare screenshots\"):\n>           assert_screenshots(img_1, img_2, True)\n\ntests/gui/test_front.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/methods/utils.py:44: in assert_screenshots\n    raise e\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npicture_1 = <PIL.Image.Image image mode=RGB size=640x480 at 0x7FB54F1F09D0>\npicture_2 = <PIL.Image.Image image mode=RGB size=640x480 at 0x7FB550A33280>\nsame = True\n\n    def assert_screenshots(picture_1: Image.Image,\n                           picture_2: Image.Image,\n                           same: bool) -> Optional[NoReturn]:\n        \"\"\" Assert screenshots pair and remove them \"\"\"\n        try:\n            with io.BytesIO() as fp:\n                picture_1.save(fp, format='PNG')\n                picture_1_raw = fp.getvalue()\n            with io.BytesIO() as fp:\n                picture_2.save(fp, format='PNG')\n                picture_2_raw = fp.getvalue()\n>           assert (picture_1_raw == picture_2_raw) is same\nE           AssertionError\n\ntests/methods/utils.py:42: AssertionError","steps":[{"name":"Take a screenshot","time":{"start":1666105789952,"stop":1666105790144,"duration":192},"status":"passed","steps":[],"attachments":[{"uid":"ddc74f48acde6ffd","name":"Screenshot","source":"ddc74f48acde6ffd.png","type":"image/png","size":4681}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Drag window to new position","time":{"start":1666105790144,"stop":1666105790350,"duration":206},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Take a screenshot","time":{"start":1666105790350,"stop":1666105790520,"duration":170},"status":"passed","steps":[],"attachments":[{"uid":"f380eec0f4f0aa0d","name":"Screenshot","source":"f380eec0f4f0aa0d.png","type":"image/png","size":3030}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Compare screenshots","time":{"start":1666105790520,"stop":1666105790535,"duration":15},"status":"failed","statusMessage":"AssertionError\n","statusTrace":"  File \"/home/runner/work/mic_spectrum_analyser/mic_spectrum_analyser/tests/gui/test_front.py\", line 38, in test_front_draggable_window\n    assert_screenshots(img_1, img_2, True)\n  File \"/home/runner/work/mic_spectrum_analyser/mic_spectrum_analyser/tests/methods/utils.py\", line 44, in assert_screenshots\n    raise e\n  File \"/home/runner/work/mic_spectrum_analyser/mic_spectrum_analyser/tests/methods/utils.py\", line 42, in assert_screenshots\n    assert (picture_1_raw == picture_2_raw) is same\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":2,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"setup::0","time":{"start":1666105790560,"stop":1666105790560,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"story","value":"Check that the window is moved by holding down the left mouse button"},{"name":"feature","value":"Test front"},{"name":"parentSuite","value":"tests.gui"},{"name":"suite","value":"test_front"},{"name":"host","value":"fv-az278-55"},{"name":"thread","value":"2977-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.gui.test_front"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"offset_x","value":"100"},{"name":"offset_y","value":"100"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":3,"unknown":0,"total":6},"items":[{"uid":"aaa29f2e8dbfb196","reportUrl":"https://dmncmn.github.io/mic_spectrum_analyser/71//#testresult/aaa29f2e8dbfb196","status":"failed","statusDetails":"AssertionError","time":{"start":1666104538795,"stop":1666104539329,"duration":534}},{"uid":"e6377d64237c40b2","reportUrl":"https://dmncmn.github.io/mic_spectrum_analyser/69//#testresult/e6377d64237c40b2","status":"failed","statusDetails":"AssertionError","time":{"start":1666104155860,"stop":1666104156339,"duration":479}},{"uid":"b108841ec39297fb","reportUrl":"https://dmncmn.github.io/mic_spectrum_analyser/67//#testresult/b108841ec39297fb","status":"passed","time":{"start":1666031124986,"stop":1666031125558,"duration":572}},{"uid":"654d6283748399bd","reportUrl":"https://dmncmn.github.io/mic_spectrum_analyser/66//#testresult/654d6283748399bd","status":"passed","time":{"start":1666030971966,"stop":1666030972461,"duration":495}},{"uid":"828158a5a22ed72","reportUrl":"https://dmncmn.github.io/mic_spectrum_analyser/65//#testresult/828158a5a22ed72","status":"passed","time":{"start":1666030673204,"stop":1666030673700,"duration":496}}]},"tags":[]},"source":"d1a7d1dd4e2f81c8.json","parameterValues":["100","100"]}